<!DOCTYPE html>
<html lang="de">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>PixelWert | PixelHide.net</title>
<link rel="icon" type="image/png" href="https://pixelhide.net/favicon.png">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --primary:#a78bfa;
  --primary-glow:#c4b5fd;
  --secondary:#050507;
  --card:#0b0b12;
  --text:#e5e7eb;
  --muted:#9ca3af;
}

*{
  box-sizing:border-box;
  user-select:none;
}

body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:#050507;
  color:var(--text);
}

/* HERO */
.hero{
  position:relative;
  height:350px;
  background:url("Banner.png") center/cover no-repeat;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:20px;
}

.hero::after{
  content:"";
  position:absolute;
  bottom:0;
  width:100%;
  height:120px;
  background:linear-gradient(to bottom,rgba(5,5,7,0) 0%,#050507 100%);
}

.hero img{
  width:320px;
  max-width:90%;
  filter:drop-shadow(0 0 70px rgba(167,139,250,0.9));
}

.hero .banner-text{
  color:black;
  font-size:1rem;
  z-index:2;
}

/* SECTION */
section{
  padding:50px 15px;
  max-width:1200px;
  margin:auto;
}

/* SEARCH */
.search-box{
  max-width:800px;
  margin:0 auto 30px;
}

.search-box input{
  width:100%;
  padding:16px;
  border-radius:14px;
  border:1px solid rgba(167,139,250,0.4);
  background:#0b0b12;
  color:white;
  font-size:1rem;
}

/* ITEM GRID */
#item-counter{
  text-align:center;
  font-size:1.2rem;
  font-weight:700;
  color:var(--primary);
  margin-bottom:30px;
}

#item-view{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.card{
  background:var(--card);
  border-radius:20px;
  padding:22px;
  border:1px solid rgba(167,139,250,0.15);
  transition:.3s;
  cursor:pointer;
  text-align:center;
}

.card:hover{
  transform:translateY(-4px);
}

.card img{
  width:60px;
  height:60px;
  image-rendering:pixelated;
  margin-bottom:12px;
}

.card h3{
  font-family:'Orbitron',sans-serif;
  color:#ddd6fe;
}

/* DETAIL VIEW */
#detail-view{
  display:none;
}

.detail-card{
  background:var(--card);
  border-radius:24px;
  padding:30px;
  border:1px solid rgba(167,139,250,0.2);
}

.back-btn{
  display:inline-block;
  margin-bottom:20px;
  padding:10px 16px;
  border-radius:10px;
  border:1px solid rgba(167,139,250,0.4);
  cursor:pointer;
  color:var(--primary-glow);
}

/* DASHBOARD */
.dash-prices{
  display:flex;
  gap:20px;
  justify-content:center;
  flex-wrap:wrap;
  margin-bottom:30px;
}

.dash-box{
  padding:16px 20px;
  border-radius:16px;
  background:rgba(0,0,0,0.4);
  border:1px solid rgba(167,139,250,0.25);
  text-align:center;
}

.dash-label{
  font-size:.85rem;
  color:var(--muted);
}

.dash-value{
  font-size:1.4rem;
  font-weight:800;
}

/* GRAPH */
svg{
  width:100%;
  max-width:500px;
  height:200px;
  display:block;
  margin:auto;
}

.graph-line{
  fill:none;
  stroke:var(--primary);
  stroke-width:2.5;
}

#tooltip{
  position:absolute;
  padding:8px 12px;
  background:#0b0b12;
  border:1px solid rgba(167,139,250,0.4);
  border-radius:10px;
  font-size:.8rem;
  display:none;
  color:var(--text);
}

/* FOOTER */
footer{
  text-align:center;
  padding:40px 20px;
  border-top:1px solid rgba(167,139,250,0.15);
}

/* MOBILE RESPONSIVE */
@media(max-width:768px){

  .hero{
    height:250px;
  }

  .hero img{
    width:220px;
  }

  #item-view{
    grid-template-columns:1fr;
  }

  .detail-card{
    padding:20px;
  }

  svg{
    max-width:100%;
  }
}

</style>
</head>

<body>

<div class="hero">
  <img src="pixelhidenet.png">
  <div class="banner-text">
    <strong>PixelWert</strong> ‚Äì Live Marktpreise f√ºr dein Minecraft Erlebnis.
  </div>
</div>

<section>

<div class="search-box">
<input id="searchInput" placeholder="üîé Item suchen..." oninput="filterItems()">
</div>

<div id="item-counter">0 Items</div>
<div id="item-view"></div>

<div id="detail-view">
  <div class="detail-card">
    <div class="back-btn" onclick="goBack()">‚Üê Zur√ºck</div>
    <h2 id="detail-title" style="font-family:'Orbitron';color:#ddd6fe;text-align:center;"></h2>
    <div id="detail-content"></div>
  </div>
</div>

</section>

<footer>
¬© 2026 <span style="color:var(--primary)">PixelHide.net</span>
</footer>

<script>
const API="http://peach.fps.ms:10492/pixelhidemarket/market-api.php";

let selectedItem=null;

/* -----------------------------
   ITEM LIST (Short Demo Data)
----------------------------- */

let items=[
{ id:"diamond", name_de:"Diamant", base_price:600 },
{ id:"iron_ingot", name_de:"Eisenbarren", base_price:55 },
{ id:"gold_ingot", name_de:"Goldbarren", base_price:140 },
{ id:"emerald", name_de:"Smaragd", base_price:450 }
];

let market={};
let history={};

/* INIT */
function initLocal(){
  const now=Math.floor(Date.now()/1000);

  items.forEach(i=>{
    market[i.id]=i.base_price;
    history[i.id]=[{price:i.base_price,time:now}];
  });
}

/* RENDER ITEMS */
function renderItems(){
  const view=document.getElementById("item-view");
  view.innerHTML="";

  items.forEach(item=>{
    const card=document.createElement("div");
    card.className="card";

    card.innerHTML=`
      <img src="https://img.mc-api.io/${item.id}.png">
      <h3>${item.name_de}</h3>
    `;

    card.onclick=()=>openDetail(item.id);
    view.appendChild(card);
  });

  document.getElementById("item-counter").textContent=
    items.length+" Items";
}

/* DETAIL */
function openDetail(id){
  selectedItem=id;

  document.getElementById("item-view").style.display="none";
  document.getElementById("detail-view").style.display="block";

  renderDetail();
}

function goBack(){
  document.getElementById("detail-view").style.display="none";
  document.getElementById("item-view").style.display="grid";
}

/* GRAPH RENDER */
function renderDetail(){

  const hist=history[selectedItem];
  if(!hist) return;

  const prices=hist.map(h=>h.price);
  let max=Math.max(...prices);
  let min=Math.min(...prices);

  if(max===min){ max+=1; min-=1; }

  const points=hist.map((h,i)=>{
    const x=(i/(hist.length-1))*500;
    const y=200-((h.price-min)/(max-min))*200;
    return `${x},${y}`;
  }).join(" ");

  const item=items.find(i=>i.id===selectedItem);

  document.getElementById("detail-title").textContent=item.name_de;

  document.getElementById("detail-content").innerHTML=`
    <div class="dash-prices">
      <div class="dash-box">
        <div class="dash-label">Kaufpreis</div>
        <div class="dash-value">$${market[selectedItem].toFixed(2)}</div>
      </div>

      <div class="dash-box">
        <div class="dash-label">Verkaufspreis</div>
        <div class="dash-value">$${(market[selectedItem]*0.92).toFixed(2)}</div>
      </div>
    </div>

    <div style="position:relative">
      <svg id="chart" viewBox="0 0 500 200">
        <polyline class="graph-line" points="${points}" />
      </svg>

      <div id="tooltip"></div>
    </div>
  `;

  const svg=document.getElementById("chart");
  const tooltip=document.getElementById("tooltip");

  svg.onmousemove=e=>{
    const rect=svg.getBoundingClientRect();
    const x=e.clientX-rect.left;

    const hist=history[selectedItem];
    const index=Math.round((x/500)*(hist.length-1));
    const entry=hist[index];
    if(!entry) return;

    const date=new Date(entry.time*1000);

    tooltip.style.left=(x+10)+"px";
    tooltip.style.top=(e.clientY-rect.top+10)+"px";
    tooltip.style.display="block";

    tooltip.innerHTML=`
      <b>${date.toLocaleString("de-DE")}</b><br>
      Kauf: $${entry.price.toFixed(2)}<br>
      Verkauf: $${(entry.price*0.92).toFixed(2)}
    `;
  };

  svg.onmouseleave=()=>tooltip.style.display="none";
}

/* SEARCH */
function filterItems(){
  const val=document.getElementById("searchInput").value.toLowerCase();

  document.querySelectorAll(".card").forEach(card=>{
    const text=card.innerText.toLowerCase();
    card.style.display=text.includes(val)?"block":"none";
  });
}

/* START */
initLocal();
renderItems();

setInterval(()=>{
  items.forEach(item=>{
    let price=market[item.id];
    price*=1+(Math.random()-0.5)*0.02;
    market[item.id]=price;

    history[item.id].push({
      price,
      time:Math.floor(Date.now()/1000)
    });
  });

  if(selectedItem) renderDetail();

},3000);

</script>

</body>
</html>
